# 화면 출력 기초

## GDI와 디바이스 컨텍스트
1. 모니터, 비디오 카드, 프린터 등 출력에 사용되는 주번 장치가 변경되어도 프로그램을 수정할 필요가 없어야한다.
    - 윈도우 운영체제의 장치 독립성에 근거
2. 여러 프로그램이 화면을 분할해서 사용하므로 각각의 프로그램이 출력하는 영역에 제약을 가해야한다.
    출력장치에 직접 접근하거나 독정 사용을 막아야한다.
    - 운영체제는 장치 의존적인 출력을 한다.
---------------------

## GDI(Graphics Device Interface)
- 위의 조건을 만족시키기 위해 사용한다.
- 운영체제의 하위 시스템 중 하나로 DLL로 존재한다.
- 응용 프로그램의 요청을 받아 출력한다.

### 출력시 요구되는 사항
1. 클라이언트 영역에 출력하려면 출력 대상 윈도우의 위치를 알아야 한다.
2. 화면에 윈도우가 여러 개 있을 때, 출력 결과가 다른 윈도우 영역을 침범하지 않아야 한다.
3. 현재 출력할 화면이 다른 윈도우에 가려져 있으면 출력할 수 없어야 한다.

### DC(Device Context)
윈도우에서 DC의 개념을 사용하여 위의 요건을 만족시킨다. DC는 GDI가 생성하고 관리하는 데이터 구조체로, 출력과 관련된 다양한 정보를 담고 있다.
1. 출력을 위해 응용 프로그램이 운영체제에 디바이스 컨택스트를 요청한다.
2. 요청 받은 운영체제의 GDI가 내부적으로 DC를 만든 후, DC를 가르키는 핸들을 응용 프로그램에 돌려준다.
3. 응용 프로그램은 받은 DC의 속성을 일부 변경한다. 그 후 DC핸들을 API 함수에 전달하여 출력을 요청한다.(장치 독립적) 이 요청은 다시 운영체제의 GDI에 전달된다.
4. GDI가 DC에 포함된 정보를 토대로 다양한 상황을 고려하여 출력한다.(장치 의존적)